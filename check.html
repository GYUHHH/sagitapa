<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ê¸° ìœ„í—˜ë„ ì²´í¬</title>
    <link rel="stylesheet" href="stylecheck.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” ì‚¬ê¸° ìœ„í—˜ë„ ì²´í¬</h1>
        </div>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">1 / 16</div>
        </div>

        <div class="main-content">
            <div class="question-card" id="questionCard">
                <div class="question-text" id="questionText">
                    <span class="danger-text">ë”ì¹˜íŠ¸ì—ì„œ</span> ì´ë¦„ ë˜ëŠ” ì „í™”ë²ˆí˜¸ê°€ ê²€ìƒ‰ë˜ë‚˜ìš”?
                </div>
                <div class="links-container" id="linksContainer" style="display: none;">
                    <div id="linksList"></div>
                </div>
                <div class="answer-buttons">
                    <button class="answer-btn yes" onclick="answerQuestion(true)">ì˜ˆ</button>
                    <button class="answer-btn no" onclick="answerQuestion(false)">ì•„ë‹ˆì˜¤</button>
                </div>
                <div class="navigation-buttons">
                    <button class="nav-button prev" id="prevBtn" onclick="previousQuestion()" disabled>â€¹</button>
                    <button class="nav-button next" id="nextBtn" onclick="nextQuestion()" disabled>â€º</button>
                </div>
            </div>

            <div class="result-container" id="resultContainer">
                <div class="result-card">
                    <div class="risk-level" id="riskLevel">ìœ„í—˜ë„: ë†’ìŒ</div>
                    <div class="result-description" id="resultDescription">
                        ì—¬ëŸ¬ ì‚¬ê¸° ì‹ í˜¸ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ê±°ë˜ë¥¼ ì¤‘ë‹¨í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ê²€í† í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.
                    </div>
                    <div class="result-stats">
                        <div class="stat-item">
                            <span>ì´ ë¬¸í•­ ìˆ˜:</span>
                            <span id="totalQuestions">16</span>
                        </div>
                        <div class="stat-item">
                            <span>ìœ„í—˜ ì‹ í˜¸ ê°ì§€:</span>
                            <span id="riskCount">0</span>
                        </div>
                        <div class="stat-item">
                            <span>ìœ„í—˜ë„ ì ìˆ˜:</span>
                            <span id="riskScore">0%</span>
                        </div>
                    </div>
                    <button class="restart-btn" onclick="restartCheck()">ë‹¤ì‹œ ê²€ì‚¬í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                text: '<span class="danger-text">ë”ì¹˜íŠ¸ì—ì„œ</span> ì´ë¦„ ë˜ëŠ” ì „í™”ë²ˆí˜¸ê°€ ê²€ìƒ‰ë˜ë‚˜ìš”?',
                image: 'images/thecheat.png',
                links: [
                    { text: 'ë”ì¹˜íŠ¸ ì‚¬ì´íŠ¸ ì¡°íšŒ', url: 'https://thecheat.co.kr/rb/?mod=_search' }
                ]
            },
            {
                text: '<span class="danger-text">ì‚¬ê¸° ì‹ ê³  ì¹´í˜</span>ì—ì„œ ì´ë¦„ ë˜ëŠ” ì „í™”ë²ˆí˜¸ê°€ ê²€ìƒ‰ë˜ë‚˜ìš”?',
                image: 'images/cafe.png',
                links: [
                    { text: 'ì‚¬ê¸°ë‚˜ë¼ ì¹´í˜', url: 'https://cafe.naver.com/saginara' },
                    { text: 'ì¤‘ê³ ê±°ë˜ì‚¬ê¸°í”¼í•´ ì¹´í˜', url: 'https://cafe.naver.com/killer1818' }
                ]
            },
            {
                text: 'ì§€ì—­ì´ ë„ˆë¬´ ë©€ë‹¤ë©´ì„œ <span class="danger-text">íƒë°° ê±°ë˜</span>ë¡œ ìœ ë„í•˜ë‚˜ìš”?',
                image: ' '
            },
            {
                text: 'ì „í™”ë²ˆí˜¸ê°€ ì•„ë‹Œ <span class="danger-text">ì¹´ì¹´ì˜¤í†¡ì´ë‚˜ í…”ë ˆê·¸ë¨</span> ë“± <br>ë‹¤ë¥¸ ë©”ì‹ ì €ë¡œ ìœ ë„í•˜ë‚˜ìš”?',
                image: ['images/kakao.png', 'images/kakao2.png']
            },
            {
                text: '<span class="danger-text">ì•ˆì „ê±°ë˜ ì‚¬ì´íŠ¸ ë§í¬</span>ë¥¼ ì£¼ê³  <br>ë‹¤ë¥¸ ì‚¬ì´íŠ¸ì—ì„œ ê²°ì œí•˜ë¼ê³  í•˜ë‚˜ìš”?',
                image: ['images/safe1.png', 'images/safe2.png', 'images/safe3.png', 'images/safe4.jpg', 'images/safe5.png']
            },
            {
                text: '<span class="danger-text">ë‹¤ë¥¸ ì‡¼í•‘ëª° ì‚¬ì´íŠ¸ì— ë“±ë¡</span>í•´ë‹¬ë¼ê³  ìœ ë„í•˜ë‚˜ìš”?',
                image: ' ',
            },
            {
                text: 'í¬ì¸íŠ¸ë¥¼ ì¨ì•¼ í•œë‹¤ë©´ì„œ<br> <span class="danger-text">ë‹¤ë¥¸ ì›¹ì‚¬ì´íŠ¸ì— ë“±ë¡</span>í•˜ë¼ê³  ìœ ë„í•˜ë‚˜ìš”?',
                image: ['images/point.jpg', 'images/fakesite2.jpg']
            },
            {
                text: 'ì…ê¸ˆí–ˆëŠ”ë° ê°–ê°€ì§€ ì´ìœ ë¥¼ ë“¤ë©° <br><span class="danger-text">ì¬ì…ê¸ˆì„ ìœ ë„</span>í•˜ë‚˜ìš”?',
                image: ['images/again1.png', 'images/again2.png', 'images/again3.png', 'images/again4.png', 'images/again5.jpg', 'images/again6.png']
            },
            {
                text: 'í”„ë¡œí•„ì„ ë³´ë©´ <span class="danger-text">ê°€ì…í•œ ì§€ ì–¼ë§ˆë˜ì§€ ì•Šì•˜ëŠ”ë° <br>ë¬¼ê±´ì´ ê°‘ìê¸° ë§ì´ ì˜¬ë¼ì˜¨</span> ì´ìš©ìì¸ê°€ìš”?',
                image: 'images/early.jpg'
            },
            {
                text: 'í”„ë¡œí•„ì„ ë³´ë©´ ê±°ë˜ ê¸°ë¡ ë‚´ì—­ì´ <br><span class="danger-text"> ëª‡ ë…„ ê°„ ì—†ë‹¤ê°€ ë‹¤ì‹œ ìƒê²¼ë‚˜ìš”?</span>',
                image: 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZGRkIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPuyCiOyLnCDsnbTrr4jsp4A8L3RleHQ+Cjwvc3ZnPg=='
            },
            {
                text: 'ê±°ë˜ ê´€ë ¨ ì—°ë½ ì‹œ <br><span class="danger-text">ì‚¬ì¥ë‹˜</span>ì´ë¼ëŠ” í˜¸ì¹­ì„ ì‚¬ìš©í•˜ë‚˜ìš”?',
                image: 'images/sajang.jpeg',
            },
            {
                text: 'ì¸ì¦ ëª©ì ìœ¼ë¡œ <span class="danger-text">ì‹ ë¶„ì¦</span>ì„ ë³´ì—¬ì¤¬ë‚˜ìš”?',
                image: 'images/id.png'
            },
            {
                text: 'ì‚¬ì§„ì´ <span class="danger-text">ì˜¤ëŠ˜ ì°íŒ ê²ƒì´</span> ì•„ë‹Œê°€ìš”? <br>(ì‚¬ì§„ ì •ë³´ì—ì„œ í™•ì¸ ê°€ëŠ¥)',
                image: 'images/photodate.png'
            },
            {
                text: 'ì‚¬ì§„ì´ <span class="danger-text">í•©ì„±</span>ì¸ ê²ƒ ê°™ë‚˜ìš”?',
                image: ['images/fakephoto1.png', 'images/fakephoto2.png'],
                links: [
                    { text: 'ì‚¬ì§„ í•©ì„± í™•ì¸ ë°”ë¡œê°€ê¸°', url: 'https://fotoforensics.com/' }
                ]
            },
            {
                text: 'ì‚¬ì§„ì´ <span class="danger-text">ë„ìš©</span>ëœ ê²ƒ ê°™ë‚˜ìš”?',
                image: 'images/howtogoogleimage.png',
                links: [
                    { text: 'êµ¬ê¸€ ì´ë¯¸ì§€ ê²€ìƒ‰', url: 'https://images.google.com/' }
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = [];
        let riskScore = 0;

        function updateProgress() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentQuestion + 1} / ${questions.length}`;
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.disabled = currentQuestion >= questions.length - 1;
        }

        function showQuestion() {
            if (currentQuestion < questions.length) {
                const question = questions[currentQuestion];
                document.getElementById('questionText').innerHTML = question.text;
                // ê¸°ì¡´ ì´ë¯¸ì§€/ìŠ¬ë¼ì´ë” ëª¨ë‘ ì œê±°
                document.querySelectorAll('.question-image-slider').forEach(el => el.remove());
                const existingImage = document.querySelector('.question-image');
                if (existingImage) existingImage.remove();
                // ë§í¬ ì»¨í…Œì´ë„ˆ ì—…ë°ì´íŠ¸
                const linksContainer = document.getElementById('linksContainer');
                const linksList = document.getElementById('linksList');
                if (question.links && question.links.length > 0) {
                    linksList.innerHTML = '';
                    question.links.forEach(link => {
                        const linkButton = document.createElement('button');
                        linkButton.textContent = link.text;
                        linkButton.className = 'link-button';
                        linkButton.onclick = () => window.open(link.url, '_blank');
                        linksList.appendChild(linkButton);
                    });
                    linksContainer.style.display = 'block';
                } else {
                    linksContainer.style.display = 'none';
                }
                // ì´ë¯¸ì§€(ìŠ¬ë¼ì´ë”) ì¶”ê°€ ë˜ëŠ” ë¹ˆ ì˜ì—­ ìœ ì§€
                let images = [];
                if (question.image) {
                    images = Array.isArray(question.image) ? question.image : [question.image];
                    images = images.filter(img => img && img.trim() !== '');
                }
                const slider = document.createElement('div');
                slider.className = 'question-image-slider' + (images.length === 0 ? ' empty' : '');
                if (images.length === 1) {
                    const img = document.createElement('img');
                    img.src = images[0];
                    img.className = 'slider-image active';
                    img.alt = 'ì§ˆë¬¸ ê´€ë ¨ ì˜ˆì‹œ ì´ë¯¸ì§€';
                    slider.appendChild(img);
                } else if (images.length > 1) {
                    images.forEach((src, idx) => {
                        const img = document.createElement('img');
                        img.src = src;
                        img.className = 'slider-image' + (idx === 0 ? ' active' : '');
                        img.alt = 'ì§ˆë¬¸ ê´€ë ¨ ì˜ˆì‹œ ì´ë¯¸ì§€';
                        slider.appendChild(img);
                    });
                    // ì¢Œìš° ë²„íŠ¼
                    const controls = document.createElement('div');
                    controls.className = 'slider-controls';
                    const prevBtn = document.createElement('button');
                    prevBtn.className = 'slider-btn';
                    prevBtn.innerHTML = 'â€¹';
                    prevBtn.onclick = (e) => {
                        e.stopPropagation();
                        moveSlider(-1);
                    };
                    const nextBtn = document.createElement('button');
                    nextBtn.className = 'slider-btn';
                    nextBtn.innerHTML = 'â€º';
                    nextBtn.onclick = (e) => {
                        e.stopPropagation();
                        moveSlider(1);
                    };
                    controls.appendChild(prevBtn);
                    controls.appendChild(nextBtn);
                    slider.appendChild(controls);
                    // ì¸ë””ì¼€ì´í„°
                    const indicator = document.createElement('div');
                    indicator.className = 'slider-indicator';
                    indicator.textContent = `1 / ${images.length}`;
                    slider.appendChild(indicator);
                    // ìƒíƒœ ì €ì¥
                    let currentIdx = 0;
                    function moveSlider(dir) {
                        const imgs = slider.querySelectorAll('.slider-image');
                        imgs[currentIdx].classList.remove('active');
                        currentIdx = (currentIdx + dir + images.length) % images.length;
                        imgs[currentIdx].classList.add('active');
                        indicator.textContent = `${currentIdx + 1} / ${images.length}`;
                    }
                    // í‚¤ë³´ë“œ ì¢Œìš° ì´ë™
                    slider.tabIndex = 0;
                    slider.onkeydown = function(e) {
                        if (e.key === 'ArrowLeft') { moveSlider(-1); }
                        if (e.key === 'ArrowRight') { moveSlider(1); }
                    };
                    // í¬ì»¤ìŠ¤ ìë™
                    setTimeout(() => slider.focus(), 100);
                }
                // ì´ë¯¸ì§€ê°€ ì—†ë”ë¼ë„ í•­ìƒ ì˜ì—­ ìœ ì§€
                linksContainer.parentNode.insertBefore(slider, linksContainer.nextSibling);
                updateProgress();
                updateNavigationButtons();
            } else {
                showResult();
            }
        }

        function answerQuestion(answer) {
            answers[currentQuestion] = answer;
            riskScore = answers.filter(a => a === true).length;
            
            updateNavigationButtons();
            
            // ìë™ìœ¼ë¡œ ë‹¤ìŒ ì§ˆë¬¸ìœ¼ë¡œ ì´ë™
            setTimeout(() => {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    showQuestion();
                } else {
                    // ë§ˆì§€ë§‰ ì§ˆë¬¸ì¸ ê²½ìš° ê²°ê³¼ í‘œì‹œ
                    showResult();
                }
            }, 300);
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion();
            } else if (currentQuestion === questions.length - 1) {
                // ë§ˆì§€ë§‰ ì§ˆë¬¸ì—ì„œ ê²°ê³¼ í‘œì‹œ
                showResult();
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion();
            }
        }

        function showResult() {
            document.getElementById('questionCard').style.display = 'none';
            document.getElementById('resultContainer').style.display = 'block';

            const criticalIndexes = [0, 1, 3, 4, 5, 6, 7];
            const answeredQuestions = answers.filter(a => a !== undefined);
            const yesAnswers = answers.filter(a => a === true).length;
            let riskLevel, riskClass, description, riskPercentage;

            // ì¹˜ëª…ì  ì‹ í˜¸(criticalIndexes) ì¤‘ í•˜ë‚˜ë¼ë„ trueë©´ 100% ì‚¬ê¸°
            let isCritical = false;
            for (let i = 0; i < criticalIndexes.length; i++) {
                if (answers[criticalIndexes[i]] === true) {
                    isCritical = true;
                    break;
                }
            }

            // ë‚˜ë¨¸ì§€ ì¸ë±ìŠ¤ ì¤‘ í•˜ë‚˜ë¼ë„ trueë©´ ìœ„í—˜ ë†’ìŒ
            let isHigh = false;
            for (let i = 0; i < answers.length; i++) {
                if (!criticalIndexes.includes(i) && answers[i] === true) {
                    isHigh = true;
                    break;
                }
            }

            if (isCritical) {
                riskLevel = "100% ì‚¬ê¸°ì…ë‹ˆë‹¤";
                riskClass = "risk-high";
                description = "âš ï¸ ì¹˜ëª…ì ì¸ ì‚¬ê¸° ì‹ í˜¸ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ì¦‰ì‹œ ê±°ë˜ë¥¼ ì¤‘ë‹¨í•˜ê³  ê´€ë ¨ ê¸°ê´€ì— ì‹ ê³ í•˜ì„¸ìš”. ì ˆëŒ€ ì¶”ê°€ ì…ê¸ˆì´ë‚˜ ê°œì¸ì •ë³´ë¥¼ ì œê³µí•˜ì§€ ë§ˆì„¸ìš”.";
                riskPercentage = 100;
            } else if (isHigh) {
                riskLevel = "ì‚¬ê¸° ìœ„í—˜ ë†’ìŒ";
                riskClass = "risk-medium";
                description = "âš ï¸ ì‚¬ê¸° ìœ„í—˜ ì‹ í˜¸ê°€ ê°ì§€ë˜ì—ˆìŠµë‹ˆë‹¤. ê±°ë˜ë¥¼ ì¤‘ë‹¨í•˜ê³  ì‹ ì¤‘í•˜ê²Œ ê²€í† í•˜ì„¸ìš”. ê°€ì¡±ì´ë‚˜ ì§€ì¸ê³¼ ìƒì˜ í›„ ê²°ì •í•˜ì„¸ìš”.";
                riskPercentage = 80;
            } else {
                riskLevel = "ìœ„í—˜ë„: ë‚®ìŒ";
                riskClass = "risk-low";
                description = "âœ… í˜„ì¬ê¹Œì§€ëŠ” í° ìœ„í—˜ ì‹ í˜¸ê°€ ê°ì§€ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ í•­ìƒ ì£¼ì˜í•˜ë©° ê±°ë˜í•˜ì‹œê³ , ì´ìƒí•œ ì ì´ ë°œê²¬ë˜ë©´ ì¦‰ì‹œ ê±°ë˜ë¥¼ ì¤‘ë‹¨í•˜ì„¸ìš”.";
                riskPercentage = 0;
            }

            document.getElementById('riskLevel').textContent = riskLevel;
            document.getElementById('riskLevel').className = `risk-level ${riskClass}`;
            document.getElementById('resultDescription').innerHTML = description;
            document.getElementById('totalQuestions').textContent = `${answeredQuestions.length} (ë‹µë³€ëœ ë¬¸í•­)`;
            document.getElementById('riskCount').textContent = yesAnswers;
            document.getElementById('riskScore').textContent = riskPercentage + '%';

            // ì§„í–‰ë¥ ì„ 100%ë¡œ ì„¤ì •
            document.getElementById('progressFill').style.width = '100%';
            document.getElementById('progressText').textContent = `ì™„ë£Œ!`;
        }

        function restartCheck() {
            currentQuestion = 0;
            answers = [];
            riskScore = 0;
            document.getElementById('questionCard').style.display = 'block';
            document.getElementById('resultContainer').style.display = 'none';
            showQuestion();
        }

        // ì´ˆê¸°í™” í•¨ìˆ˜
        function initializeApp() {
            currentQuestion = 0;
            answers = [];
            riskScore = 0;
            showQuestion();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì²« ë²ˆì§¸ ì§ˆë¬¸ í‘œì‹œ
        initializeApp();
    </script>
</body>
</html>
